<div class="container-fluid " role="main">
    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 MainWelcome content">
            <h2>Welcome</h2>
            <p>Angular Models and Form Validations </p>
        </div>
        
        <div class="col-lg-3 col-md-4 col-sm-12">
            <form [formGroup] = "form">
                <h2 class="Heading">Add New User</h2>
                <div class="form-group">
                    <label>First Name</label>
                    <input type="text" class="form-control" formControlName="FirstName" />
                    <div 
                        *ngIf="form.controls.FirstName.valid" class="valid-feedback">
                            <span>Valid.</span>
                    </div>
                    <div 
                        *ngIf="form.controls.FirstName.invalid 
                            && (form.controls.FirstName.dirty || form.controls.FirstName.touched)" class="invalid-feedback">
                            <span *ngIf="form.controls.FirstName.errors?.required">Please fill out this field.</span>
                            <span *ngIf="form.controls.FirstName.errors?.minlength">First Name must be at least 2 characters long.</span>
                    </div> 
                </div>
                <div class="form-group ">
                    <label>Last Name</label>
                    <input type="text" class="form-control" formControlName="LastName" />
                    <div 
                        *ngIf="form.controls.LastName.valid" class="valid-feedback">
                        <span>Valid.</span>
                    </div>
                    <div 
                        *ngIf="form.controls.LastName.invalid 
                            && (form.controls.LastName.dirty || form.controls.LastName.touched)" class="invalid-feedback">
                            <span *ngIf="form.controls.LastName.errors?.required">Please fill out this field.</span>
                            <span *ngIf="form.controls.LastName.errors?.minlength">Last Name must be at least 2 characters long.</span>
                    </div>     
                </div>
                <div class="form-group">
                    <label>Age</label>
                    <input type="Number" class="form-control" formControlName="Age"/>
                    <div 
                        *ngIf="form.controls.Age.valid" class="valid-feedback"> 
                            <span>Valid.</span>
                    </div>
                    <div 
                        *ngIf="form.controls.Age.invalid 
                            && (form.controls.Age.dirty || form.controls.Age.touched)" class="invalid-feedback">
                            <span *ngIf="form.controls.Age.errors?.required">Please fill out this field.</span>
                            <span *ngIf="form.controls.Age.errors?.min">Minimum Age is 18.</span>
                            <span *ngIf="form.controls.Age.errors?.max">Maximum Age is 40.</span>
                    </div>
                </div>
                <div class="form-group">
                    <label>Department</label>
                    <select class="form-control" formControlName="Department">
                        <option>HR</option>
                        <option>Marketing</option>
                        <option>Technology Services</option>
                        <option>Professional Services</option>
                        <option>Other</option>
                    </select>
                    <div 
                        *ngIf="form.controls.Department?.valid" class="valid-feedback">
                            <span>Valid.</span>
                    </div>
                </div>
                <div class="form-group">
                    <input type="checkbox" formControlName="IsActive"/><label> &nbsp; Is Active</label>
                    <div 
                        *ngIf="form.controls.IsActive.valid" class="valid-feedback">
                            <span>Valid.</span>
                    </div>
                </div>
                <button type="submit" [disabled]="!form.valid" class="btn btn-primary"  (click)="Save()">Submit</button>
            </form>
        </div>
        <div class="col-lg-9 col-md-8 col-sm-12">
            <h2 class="Heading">Total Students: {{students.length}}</h2>
            <table class="table table-dark studentsTable">
                <tr>
                    <th>ID</th>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Age</th>
                    <th>Department</th>
                    <th>Is Active</th>
                </tr>
                <tr *ngFor="let std of students; let i = index">
                    <td>{{ std.Key}}</td>
                    <td>{{ std.FirstName}}</td>
                    <td>{{ std.LastName}}</td>
                    <td>{{ std.Age}}</td>
                    <td>{{ std.Department}}</td>
                    <td>{{ std.IsActive}}</td>  
                </tr>
            </table>
        </div>
    </div>
</div>
